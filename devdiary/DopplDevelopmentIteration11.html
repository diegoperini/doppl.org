<html><head><title>Doppl Development - Iteration #11</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');.lst-kix_5lm3s2obdan5-8>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-8,lower-roman) ". "}.lst-kix_vmfhyv4pzl09-3>li:before{content:"\0025cf  "}ul.lst-kix_cxnm49hbor20-6{list-style-type:none}ul.lst-kix_cxnm49hbor20-5{list-style-type:none}ul.lst-kix_cxnm49hbor20-8{list-style-type:none}ul.lst-kix_cxnm49hbor20-7{list-style-type:none}ul.lst-kix_cxnm49hbor20-2{list-style-type:none}ul.lst-kix_cxnm49hbor20-1{list-style-type:none}ul.lst-kix_cxnm49hbor20-4{list-style-type:none}ul.lst-kix_cxnm49hbor20-3{list-style-type:none}.lst-kix_bktfjpwitpbe-8>li:before{content:"\0025a0  "}ul.lst-kix_cxnm49hbor20-0{list-style-type:none}.lst-kix_vmfhyv4pzl09-5>li:before{content:"\0025a0  "}.lst-kix_9lpw4r3o7z8s-0>li:before{content:"\0025cf  "}.lst-kix_xvtdou526pq5-5>li:before{content:"\0025a0  "}.lst-kix_cxnm49hbor20-7>li:before{content:"\0025cb  "}.lst-kix_dj35hjrs38a6-8>li:before{content:"\0025a0  "}.lst-kix_4ebvok1z0vho-1>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-1,lower-latin) ". "}ul.lst-kix_l9d6y3pnh0yl-7{list-style-type:none}ul.lst-kix_l9d6y3pnh0yl-8{list-style-type:none}.lst-kix_sq1y8gc8nh5e-7>li:before{content:"\0025cb  "}.lst-kix_4ebvok1z0vho-4>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-4,lower-latin) ". "}ul.lst-kix_l9d6y3pnh0yl-0{list-style-type:none}ol.lst-kix_zau32c8pzsm2-2.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-2 0}ul.lst-kix_l9d6y3pnh0yl-1{list-style-type:none}ul.lst-kix_l9d6y3pnh0yl-2{list-style-type:none}ul.lst-kix_l9d6y3pnh0yl-3{list-style-type:none}ul.lst-kix_l9d6y3pnh0yl-4{list-style-type:none}.lst-kix_5lm3s2obdan5-0>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-0,decimal) ". "}ul.lst-kix_l9d6y3pnh0yl-5{list-style-type:none}ul.lst-kix_l9d6y3pnh0yl-6{list-style-type:none}.lst-kix_5lm3s2obdan5-3>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-3,decimal) ". "}ol.lst-kix_4ebvok1z0vho-4{list-style-type:none}.lst-kix_zau32c8pzsm2-4>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-4,lower-latin) ". "}ol.lst-kix_4ebvok1z0vho-5{list-style-type:none}ol.lst-kix_4ebvok1z0vho-6{list-style-type:none}.lst-kix_9lpw4r3o7z8s-3>li:before{content:"\0025cf  "}ol.lst-kix_4ebvok1z0vho-7{list-style-type:none}.lst-kix_zau32c8pzsm2-7>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-7,lower-latin) ". "}ol.lst-kix_4ebvok1z0vho-0{list-style-type:none}ol.lst-kix_4ebvok1z0vho-1{list-style-type:none}ol.lst-kix_4ebvok1z0vho-2{list-style-type:none}ol.lst-kix_4ebvok1z0vho-3{list-style-type:none}ol.lst-kix_5lm3s2obdan5-7.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-7 0}.lst-kix_4ebvok1z0vho-8>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-8}ol.lst-kix_4ebvok1z0vho-8{list-style-type:none}.lst-kix_9lpw4r3o7z8s-5>li:before{content:"\0025a0  "}.lst-kix_po7ycth3ais3-2>li:before{content:"\0025a0  "}.lst-kix_zau32c8pzsm2-6>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-6,decimal) ". "}ul.lst-kix_po7ycth3ais3-0{list-style-type:none}.lst-kix_dj35hjrs38a6-0>li:before{content:"\0025cf  "}ul.lst-kix_po7ycth3ais3-1{list-style-type:none}ul.lst-kix_po7ycth3ais3-2{list-style-type:none}ul.lst-kix_po7ycth3ais3-3{list-style-type:none}.lst-kix_9lpw4r3o7z8s-8>li:before{content:"\0025a0  "}ul.lst-kix_po7ycth3ais3-8{list-style-type:none}.lst-kix_9lpw4r3o7z8s-4>li:before{content:"\0025cb  "}ul.lst-kix_tas7kim6pz2n-7{list-style-type:none}ul.lst-kix_tas7kim6pz2n-8{list-style-type:none}ul.lst-kix_tas7kim6pz2n-5{list-style-type:none}ul.lst-kix_po7ycth3ais3-4{list-style-type:none}ul.lst-kix_tas7kim6pz2n-6{list-style-type:none}ul.lst-kix_po7ycth3ais3-5{list-style-type:none}ul.lst-kix_tas7kim6pz2n-3{list-style-type:none}ul.lst-kix_po7ycth3ais3-6{list-style-type:none}ul.lst-kix_tas7kim6pz2n-4{list-style-type:none}ul.lst-kix_po7ycth3ais3-7{list-style-type:none}ol.lst-kix_5lm3s2obdan5-0{list-style-type:none}ol.lst-kix_5lm3s2obdan5-1{list-style-type:none}.lst-kix_5lm3s2obdan5-8>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-8}ol.lst-kix_5lm3s2obdan5-2{list-style-type:none}.lst-kix_4ebvok1z0vho-1>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-1}ol.lst-kix_zau32c8pzsm2-4.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-4 0}.lst-kix_tas7kim6pz2n-7>li:before{content:"\0025cb  "}ol.lst-kix_5lm3s2obdan5-3{list-style-type:none}.lst-kix_4ebvok1z0vho-3>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-3,decimal) ". "}.lst-kix_cxnm49hbor20-2>li:before{content:"\0025a0  "}.lst-kix_vmfhyv4pzl09-8>li:before{content:"\0025a0  "}.lst-kix_po7ycth3ais3-5>li:before{content:"\0025a0  "}.lst-kix_2lssniupk42i-1>li:before{content:"\0025cb  "}.lst-kix_cxnm49hbor20-6>li:before{content:"\0025cf  "}.lst-kix_sq1y8gc8nh5e-0>li:before{content:"\0025cf  "}.lst-kix_5lm3s2obdan5-5>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-5}ol.lst-kix_4ebvok1z0vho-1.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-1 0}ol.lst-kix_5lm3s2obdan5-8{list-style-type:none}.lst-kix_tas7kim6pz2n-1>li:before{content:"\0025cb  "}.lst-kix_sq1y8gc8nh5e-4>li:before{content:"\0025cb  "}ol.lst-kix_5lm3s2obdan5-5{list-style-type:none}ol.lst-kix_5lm3s2obdan5-4{list-style-type:none}ol.lst-kix_5lm3s2obdan5-7{list-style-type:none}ol.lst-kix_5lm3s2obdan5-6{list-style-type:none}.lst-kix_xvtdou526pq5-0>li:before{content:"\0025cf  "}ul.lst-kix_sq1y8gc8nh5e-2{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-1{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-4{list-style-type:none}ul.lst-kix_bktfjpwitpbe-7{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-3{list-style-type:none}ul.lst-kix_bktfjpwitpbe-8{list-style-type:none}ol.lst-kix_zau32c8pzsm2-0.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-0 0}ul.lst-kix_sq1y8gc8nh5e-0{list-style-type:none}.lst-kix_5lm3s2obdan5-4>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-4}ul.lst-kix_bktfjpwitpbe-1{list-style-type:none}ul.lst-kix_bktfjpwitpbe-2{list-style-type:none}ul.lst-kix_bktfjpwitpbe-0{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-6{list-style-type:none}ul.lst-kix_bktfjpwitpbe-5{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-5{list-style-type:none}.lst-kix_4ebvok1z0vho-7>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-7}ul.lst-kix_bktfjpwitpbe-6{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-8{list-style-type:none}ul.lst-kix_bktfjpwitpbe-3{list-style-type:none}ul.lst-kix_sq1y8gc8nh5e-7{list-style-type:none}ul.lst-kix_bktfjpwitpbe-4{list-style-type:none}.lst-kix_5lm3s2obdan5-6>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-6}.lst-kix_l9d6y3pnh0yl-7>li:before{content:"\0025cb  "}.lst-kix_vmfhyv4pzl09-6>li:before{content:"\0025cf  "}.lst-kix_sq1y8gc8nh5e-1>li:before{content:"\0025cb  "}.lst-kix_4ebvok1z0vho-5>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-5}.lst-kix_2lssniupk42i-4>li:before{content:"\0025cb  "}.lst-kix_xvtdou526pq5-2>li:before{content:"\0025a0  "}ul.lst-kix_tas7kim6pz2n-0{list-style-type:none}ul.lst-kix_tas7kim6pz2n-1{list-style-type:none}.lst-kix_4ebvok1z0vho-0>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-0,decimal) ". "}ul.lst-kix_tas7kim6pz2n-2{list-style-type:none}ol.lst-kix_5lm3s2obdan5-4.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-4 0}.lst-kix_2lssniupk42i-7>li:before{content:"\0025cb  "}.lst-kix_4ebvok1z0vho-7>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-7,lower-latin) ". "}.lst-kix_sq1y8gc8nh5e-3>li:before{content:"\0025cf  "}.lst-kix_5lm3s2obdan5-3>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-3}ol.lst-kix_5lm3s2obdan5-1.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-1 0}.lst-kix_l9d6y3pnh0yl-4>li:before{content:"\0025cb  "}.lst-kix_l9d6y3pnh0yl-8>li:before{content:"\0025a0  "}.lst-kix_5lm3s2obdan5-7>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-7,lower-latin) ". "}ol.lst-kix_zau32c8pzsm2-1.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-1 0}.lst-kix_bktfjpwitpbe-7>li:before{content:"\0025cb  "}.lst-kix_4ebvok1z0vho-8>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-8,lower-roman) ". "}.lst-kix_dj35hjrs38a6-2>li:before{content:"\0025a0  "}.lst-kix_zau32c8pzsm2-0>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-0}.lst-kix_sq1y8gc8nh5e-8>li:before{content:"\0025a0  "}.lst-kix_xvtdou526pq5-4>li:before{content:"\0025cb  "}.lst-kix_zau32c8pzsm2-6>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-6}.lst-kix_dj35hjrs38a6-1>li:before{content:"\0025cb  "}.lst-kix_cxnm49hbor20-0>li:before{content:"\0025cf  "}.lst-kix_tas7kim6pz2n-2>li:before{content:"\0025a0  "}.lst-kix_cxnm49hbor20-5>li:before{content:"\0025a0  "}.lst-kix_xvtdou526pq5-7>li:before{content:"\0025cb  "}ul.lst-kix_vmfhyv4pzl09-6{list-style-type:none}.lst-kix_po7ycth3ais3-8>li:before{content:"\0025a0  "}ul.lst-kix_vmfhyv4pzl09-7{list-style-type:none}ul.lst-kix_xvtdou526pq5-1{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-4{list-style-type:none}ul.lst-kix_xvtdou526pq5-0{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-5{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-8{list-style-type:none}.lst-kix_sq1y8gc8nh5e-2>li:before{content:"\0025a0  "}ul.lst-kix_xvtdou526pq5-6{list-style-type:none}ul.lst-kix_xvtdou526pq5-7{list-style-type:none}ul.lst-kix_xvtdou526pq5-8{list-style-type:none}ul.lst-kix_xvtdou526pq5-2{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-3{list-style-type:none}ol.lst-kix_zau32c8pzsm2-6.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-6 0}ul.lst-kix_xvtdou526pq5-3{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-2{list-style-type:none}.lst-kix_cxnm49hbor20-3>li:before{content:"\0025cf  "}ul.lst-kix_xvtdou526pq5-4{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-1{list-style-type:none}ul.lst-kix_xvtdou526pq5-5{list-style-type:none}ul.lst-kix_vmfhyv4pzl09-0{list-style-type:none}.lst-kix_tas7kim6pz2n-4>li:before{content:"\0025cb  "}.lst-kix_5lm3s2obdan5-1>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-1}.lst-kix_l9d6y3pnh0yl-2>li:before{content:"\0025a0  "}.lst-kix_dj35hjrs38a6-5>li:before{content:"\0025a0  "}.lst-kix_bktfjpwitpbe-5>li:before{content:"\0025a0  "}.lst-kix_zau32c8pzsm2-3>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-3}.lst-kix_dj35hjrs38a6-4>li:before{content:"\0025cb  "}.lst-kix_zau32c8pzsm2-8>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-8}.lst-kix_tas7kim6pz2n-6>li:before{content:"\0025cf  "}ol.lst-kix_5lm3s2obdan5-8.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-8 0}.lst-kix_xvtdou526pq5-1>li:before{content:"\0025cb  "}ol.lst-kix_4ebvok1z0vho-6.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-6 0}.lst-kix_4ebvok1z0vho-5>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-5,lower-roman) ". "}ol.lst-kix_zau32c8pzsm2-5.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-5 0}.lst-kix_zau32c8pzsm2-1>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-1,lower-latin) ". "}.lst-kix_9lpw4r3o7z8s-7>li:before{content:"\0025cb  "}.lst-kix_po7ycth3ais3-4>li:before{content:"\0025cb  "}.lst-kix_zau32c8pzsm2-7>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-7}ol.lst-kix_5lm3s2obdan5-3.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-3 0}.lst-kix_5lm3s2obdan5-1>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-1,lower-latin) ". "}.lst-kix_sq1y8gc8nh5e-5>li:before{content:"\0025a0  "}.lst-kix_vmfhyv4pzl09-2>li:before{content:"\0025a0  "}.lst-kix_vmfhyv4pzl09-0>li:before{content:"\0025cf  "}ul.lst-kix_dj35hjrs38a6-1{list-style-type:none}ul.lst-kix_dj35hjrs38a6-0{list-style-type:none}ul.lst-kix_dj35hjrs38a6-3{list-style-type:none}.lst-kix_zau32c8pzsm2-0>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-0,decimal) ". "}.lst-kix_bktfjpwitpbe-1>li:before{content:"\0025cb  "}ul.lst-kix_dj35hjrs38a6-2{list-style-type:none}ul.lst-kix_dj35hjrs38a6-5{list-style-type:none}ul.lst-kix_dj35hjrs38a6-4{list-style-type:none}ul.lst-kix_dj35hjrs38a6-7{list-style-type:none}ul.lst-kix_dj35hjrs38a6-6{list-style-type:none}ul.lst-kix_dj35hjrs38a6-8{list-style-type:none}ol.lst-kix_5lm3s2obdan5-5.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-5 0}.lst-kix_po7ycth3ais3-3>li:before{content:"\0025cf  "}.lst-kix_dj35hjrs38a6-6>li:before{content:"\0025cf  "}.lst-kix_vmfhyv4pzl09-7>li:before{content:"\0025cb  "}.lst-kix_zau32c8pzsm2-5>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-5}.lst-kix_5lm3s2obdan5-6>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-6,decimal) ". "}.lst-kix_xvtdou526pq5-8>li:before{content:"\0025a0  "}.lst-kix_cxnm49hbor20-8>li:before{content:"\0025a0  "}.lst-kix_zau32c8pzsm2-4>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-4}.lst-kix_4ebvok1z0vho-2>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-2}.lst-kix_vmfhyv4pzl09-1>li:before{content:"\0025cb  "}.lst-kix_zau32c8pzsm2-1>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-1}.lst-kix_po7ycth3ais3-6>li:before{content:"\0025cf  "}.lst-kix_5lm3s2obdan5-4>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-4,lower-latin) ". "}.lst-kix_l9d6y3pnh0yl-5>li:before{content:"\0025a0  "}.lst-kix_bktfjpwitpbe-2>li:before{content:"\0025a0  "}.lst-kix_bktfjpwitpbe-3>li:before{content:"\0025cf  "}.lst-kix_bktfjpwitpbe-4>li:before{content:"\0025cb  "}ol.lst-kix_5lm3s2obdan5-0.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-0 0}.lst-kix_tas7kim6pz2n-3>li:before{content:"\0025cf  "}ol.lst-kix_4ebvok1z0vho-2.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-2 0}ol.lst-kix_4ebvok1z0vho-3.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-3 0}.lst-kix_zau32c8pzsm2-2>li{counter-increment:lst-ctn-kix_zau32c8pzsm2-2}.lst-kix_zau32c8pzsm2-2>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-2,lower-roman) ". "}.lst-kix_4ebvok1z0vho-6>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-6,decimal) ". "}.lst-kix_9lpw4r3o7z8s-6>li:before{content:"\0025cf  "}.lst-kix_xvtdou526pq5-3>li:before{content:"\0025cf  "}.lst-kix_l9d6y3pnh0yl-1>li:before{content:"\0025cb  "}.lst-kix_5lm3s2obdan5-2>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-2}.lst-kix_2lssniupk42i-6>li:before{content:"\0025cf  "}.lst-kix_tas7kim6pz2n-5>li:before{content:"\0025a0  "}ol.lst-kix_4ebvok1z0vho-8.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-8 0}.lst-kix_2lssniupk42i-5>li:before{content:"\0025a0  "}.lst-kix_9lpw4r3o7z8s-2>li:before{content:"\0025a0  "}.lst-kix_dj35hjrs38a6-7>li:before{content:"\0025cb  "}.lst-kix_4ebvok1z0vho-6>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-6}.lst-kix_l9d6y3pnh0yl-0>li:before{content:"\0025cf  "}ol.lst-kix_5lm3s2obdan5-2.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-2 0}.lst-kix_5lm3s2obdan5-5>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-5,lower-roman) ". "}.lst-kix_2lssniupk42i-2>li:before{content:"\0025a0  "}.lst-kix_vmfhyv4pzl09-4>li:before{content:"\0025cb  "}.lst-kix_5lm3s2obdan5-2>li:before{content:"" counter(lst-ctn-kix_5lm3s2obdan5-2,lower-roman) ". "}.lst-kix_4ebvok1z0vho-0>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-0}.lst-kix_5lm3s2obdan5-0>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-0}.lst-kix_bktfjpwitpbe-6>li:before{content:"\0025cf  "}ol.lst-kix_zau32c8pzsm2-8.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-8 0}.lst-kix_l9d6y3pnh0yl-3>li:before{content:"\0025cf  "}.lst-kix_zau32c8pzsm2-5>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-5,lower-roman) ". "}ol.lst-kix_zau32c8pzsm2-3.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-3 0}.lst-kix_9lpw4r3o7z8s-1>li:before{content:"\0025cb  "}.lst-kix_4ebvok1z0vho-3>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-3}ol.lst-kix_zau32c8pzsm2-7.start{counter-reset:lst-ctn-kix_zau32c8pzsm2-7 0}.lst-kix_4ebvok1z0vho-4>li{counter-increment:lst-ctn-kix_4ebvok1z0vho-4}.lst-kix_xvtdou526pq5-6>li:before{content:"\0025cf  "}.lst-kix_cxnm49hbor20-4>li:before{content:"\0025cb  "}.lst-kix_po7ycth3ais3-7>li:before{content:"\0025cb  "}ul.lst-kix_9lpw4r3o7z8s-8{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-7{list-style-type:none}.lst-kix_2lssniupk42i-0>li:before{content:"\0025cf  "}ol.lst-kix_zau32c8pzsm2-0{list-style-type:none}ol.lst-kix_zau32c8pzsm2-1{list-style-type:none}ol.lst-kix_zau32c8pzsm2-2{list-style-type:none}ol.lst-kix_zau32c8pzsm2-3{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-2{list-style-type:none}ol.lst-kix_zau32c8pzsm2-4{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-1{list-style-type:none}ol.lst-kix_zau32c8pzsm2-5{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-0{list-style-type:none}ol.lst-kix_zau32c8pzsm2-6{list-style-type:none}ol.lst-kix_zau32c8pzsm2-7{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-6{list-style-type:none}ol.lst-kix_zau32c8pzsm2-8{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-5{list-style-type:none}ul.lst-kix_9lpw4r3o7z8s-4{list-style-type:none}.lst-kix_l9d6y3pnh0yl-6>li:before{content:"\0025cf  "}ul.lst-kix_9lpw4r3o7z8s-3{list-style-type:none}.lst-kix_zau32c8pzsm2-3>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-3,decimal) ". "}.lst-kix_5lm3s2obdan5-7>li{counter-increment:lst-ctn-kix_5lm3s2obdan5-7}.lst-kix_zau32c8pzsm2-8>li:before{content:"" counter(lst-ctn-kix_zau32c8pzsm2-8,lower-roman) ". "}.lst-kix_bktfjpwitpbe-0>li:before{content:"\0025cf  "}.lst-kix_2lssniupk42i-3>li:before{content:"\0025cf  "}.lst-kix_dj35hjrs38a6-3>li:before{content:"\0025cf  "}ol.lst-kix_4ebvok1z0vho-7.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-7 0}.lst-kix_tas7kim6pz2n-8>li:before{content:"\0025a0  "}ul.lst-kix_2lssniupk42i-6{list-style-type:none}ol.lst-kix_5lm3s2obdan5-6.start{counter-reset:lst-ctn-kix_5lm3s2obdan5-6 0}ul.lst-kix_2lssniupk42i-5{list-style-type:none}ul.lst-kix_2lssniupk42i-8{list-style-type:none}ul.lst-kix_2lssniupk42i-7{list-style-type:none}.lst-kix_sq1y8gc8nh5e-6>li:before{content:"\0025cf  "}ul.lst-kix_2lssniupk42i-2{list-style-type:none}ul.lst-kix_2lssniupk42i-1{list-style-type:none}ul.lst-kix_2lssniupk42i-4{list-style-type:none}ul.lst-kix_2lssniupk42i-3{list-style-type:none}.lst-kix_4ebvok1z0vho-2>li:before{content:"" counter(lst-ctn-kix_4ebvok1z0vho-2,lower-roman) ". "}.lst-kix_po7ycth3ais3-0>li:before{content:"\0025cf  "}.lst-kix_tas7kim6pz2n-0>li:before{content:"\0025cf  "}.lst-kix_2lssniupk42i-8>li:before{content:"\0025a0  "}.lst-kix_cxnm49hbor20-1>li:before{content:"\0025cb  "}.lst-kix_po7ycth3ais3-1>li:before{content:"\0025cb  "}ol.lst-kix_4ebvok1z0vho-0.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-0 0}ol.lst-kix_4ebvok1z0vho-5.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-5 0}ol.lst-kix_4ebvok1z0vho-4.start{counter-reset:lst-ctn-kix_4ebvok1z0vho-4 0}ul.lst-kix_2lssniupk42i-0{list-style-type:none}ol{margin:0;padding:0}.c10{vertical-align:top;width:468pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c3{padding-left:0pt;text-align:justify;direction:ltr;margin-left:72pt}.c18{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c0{text-indent:36pt;text-align:justify;direction:ltr}.c6{height:11pt;text-align:justify;direction:ltr}.c7{height:11pt;text-align:center;direction:ltr}.c16{margin-right:auto;border-collapse:collapse}.c15{color:#1155cc;text-decoration:underline}.c9{text-align:center;direction:ltr}.c22{margin:0;padding:0}.c12{text-align:justify;direction:ltr}.c21{text-align:right;direction:ltr}.c20{color:inherit;text-decoration:inherit}.c17{text-align:left;direction:ltr}.c5{font-style:italic}.c14{font-size:12pt}.c11{height:11pt}.c2{font-family:"Consolas"}.c4{font-weight:bold}.c1{font-family:"Times New Roman"}.c23{font-size:18pt}.c19{margin-left:36pt}.c13{font-size:14pt}.c24{font-size:48pt}.c8{height:0pt}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c18"><p class="c9"><span class="c4 c1 c24">DOPPL</span></p><p class="c7"><span class="c4 c1 c23"></span></p><p class="c9"><span class="c4 c1 c13">Data Oriented Parallel Programming Language</span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c9"><span class="c4 c1 c23">Development Diary</span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c9"><span class="c4 c1 c13">Iteration #11</span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c9"><span class="c4 c1 c13">Covered Concepts:</span></p><p class="c9"><span class="c4 c1 c13">Future Members, States as Members,</span></p><p class="c9"><span class="c4 c1 c13">Closure States </span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c17 c11"><span class="c4 c1 c13"></span></p><p class="c11 c17"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c9"><span class="c4 c1 c13">Diego PERINI</span></p><p class="c7"><span class="c4 c1 c13"></span></p><p class="c9"><span class="c4 c1 c13">Department of Computer Engineering</span></p><p class="c9"><span class="c4 c1 c13">Istanbul Technical University, Turkey</span></p><p class="c9"><span class="c4 c1 c13">2013-10-18</span><hr style="page-break-before:always;display:none;"></p><p class="c0 c11"><span class="c14 c4 c1"></span></p><p class="c0"><span class="c4 c1 c14">Abstract</span></p><p class="c0"><span class="c1">This paper stands for Doppl language development iteration #11. In this paper, all technical aspects of a Doppl state will be investigated. States as parameters, states as assignable datas, states created on runtime and states that yield values will be introduced. A new type of member declared with a new access modifier to support asynchronous operations will be presented.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">1. Rationale</span></p><p class="c0"><span class="c1">All Doppl constructs and concepts introduced before have always kept one principle in mind. No operation blocks a task unless the programmer states the otherwise. State transition rules have special syntax for blocking and standard input is a special member that can block a task during assignment. This iteration will unveil the main Doppl entity that enables how these blocking operations and synchronization points are implemented internally. Moreover it will enable this entities to be used in Doppl programs as special members with an easy to use syntax. They will be called future members or futures. Futures are closely related to states, in fact they can be considered stateful members. In order to fully utilize benefits from these members, previously omitted state properties will also be explained in this iteration.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">2. Futures</span></p><p class="c0"><span class="c1">Future members are stateful values that can only be accessed once the operation that calculates them finishes. They are the perfect choice to implement lazy evaluation in Doppl. They automatically fork the task they are created to do their calculations asynchronously and merge once their values are yielded. </span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">It is possible to prevent a fork and maintain the future behavior via a lazy assignment. A lazily assigned future will do its calculation within the task it is created once it is accessed. These types of assignments will greatly decrease memory consumption for bookkeeping but do also suffer from a performance loss due to synchronous behavior. Lazy assignment has its own operator defined only for futures.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">In order to declare a member as a future, </span><span class="c2">future</span><span class="c1">&nbsp;access modifier should be prefixed in declaration clause like any other access modifier.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="ad0181516e494ee0261e7b653f5e8afc9fb4738e"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">#States explained</span></p><p class="c0"><span class="c2">task(</span><span class="c2 c5">1</span><span class="c2">) </span><span class="c5 c2">Futures </span><span class="c2">{ </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; future data my_int = int</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; init: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;my_int = calculate #forks and transitions to calculate</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; calculate: { &hellip; } #some operation to yield an int</span></p><p class="c0"><span class="c2">} &nbsp;</span></p></td></tr></tbody></table><p class="c12"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0"><span class="c1">Previous example used a regular assignment operator to start the asynchronous operation. A future member is placed on the left hand side of the assignment. A state name used on the right hand side. During runtime, any expression that accesses the future member will block and wait for the state on the right hand side to yield a value.</span></p><p class="c6"><span class="c1"></span></p><p class="c12"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In order to yield a value from a state, </span><span class="c2">yield</span><span class="c1">&nbsp;reserved keyword should be used. Below is a full example of an asynchronous future usage.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="c477e0fcdc66b73c0d3cdca98a944a2ef688010b"></a><a href="#" name="1"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">#Futures</span></p><p class="c0"><span class="c2">task(</span><span class="c5 c2">1</span><span class="c2">) </span><span class="c5 c2">Futures </span><span class="c2">{ </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c2 c4">future</span><span class="c2">&nbsp;</span><span class="c2 c4">data</span><span class="c2">&nbsp;my_int = </span><span class="c2 c4">int</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c2 c4">data</span><span class="c2">&nbsp;something = </span><span class="c2 c4">int</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; init: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_int</span><span class="c2">&nbsp;= </span><span class="c5 c2">calculate</span><span class="c2">&nbsp;#forks and transitions to calculate</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Do something&hellip;</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">something</span><span class="c2">&nbsp;= </span><span class="c5 c2">my_int</span><span class="c2">&nbsp;#waits until calculate yields</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c5 c2">calculate</span><span class="c2">: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">yield</span><span class="c2">&nbsp;42</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">} &nbsp;</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c12"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It is possible to wait for the future calculation without accessing its value. A reserved wait keyword is used for such purposes.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="d4287a87044e6e730552a92396809656d2367758"></a><a href="#" name="2"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; init: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_int</span><span class="c2">&nbsp;= </span><span class="c5 c2">calculate</span><span class="c2">&nbsp;#forks and transitions to calculate</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Do something&hellip;</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">wait</span><span class="c2">&nbsp;</span><span class="c5 c2">my_int</span><span class="c2">&nbsp;#waits until calculate yields</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c12"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lazy assignment operator is := and can be used to do the exact same thing as regular assignment. It trades performance over memory consumption and avoids forks, thus less bookkeeping for &nbsp;task management.</span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><a href="#" name="550e5fe4928938009f0da8c38d4e34ced95387cd"></a><a href="#" name="3"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;init: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_int</span><span class="c2">&nbsp;:= </span><span class="c5 c2">calculate</span><span class="c2">&nbsp;#does not fork</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Do something&hellip;</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">wait</span><span class="c2">&nbsp;</span><span class="c5 c2">my_int</span><span class="c2">&nbsp;#transitions to calculate on this line </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p></td></tr></tbody></table><p class="c6"><span class="c14 c4 c1"></span></p><p class="c12"><span class="c14 c4 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">Futures are main message passing mechanisms of Doppl. When used in conjunction with </span><span class="c2">once</span><span class="c1">&nbsp;and </span><span class="c2">shared</span><span class="c1">&nbsp;access modifiers, they operate like envelopes between tasks. A once future is not considered </span><span class="c2">null</span><span class="c1">&nbsp;if its calculation has already started. This behavior prevents multiple writes on a once future member.</span></p><p class="c6"><span class="c1"></span></p><p class="c12"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Below is an example task group of two tasks, each specializes on one single operation. They use shared once futures to communicate. A single handshake is used for synchronization.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="6325dbc39938592ec234d5918df9a76310a35e09"></a><a href="#" name="4"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">#Message passing via shared once future</span></p><p class="c0"><span class="c2">task(</span><span class="c5 c2">2</span><span class="c2">) </span><span class="c5 c2">MessagePassing </span><span class="c2">{ </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c2 c4">once shared data</span><span class="c2">&nbsp;</span><span class="c5 c2">first_jump</span><span class="c2">&nbsp;= </span><span class="c2 c4">bool</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; once shared data</span><span class="c2">&nbsp;</span><span class="c5 c2">second_jump</span><span class="c2">&nbsp;= </span><span class="c2 c4">bool</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c2 c4">future</span><span class="c2">&nbsp;</span><span class="c2 c4">once shared</span><span class="c2">&nbsp;</span><span class="c2 c4">data</span><span class="c2">&nbsp;</span><span class="c5 c2">message</span><span class="c2">&nbsp;= </span><span class="c2 c4">string</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; future once shared data </span><span class="c5 c2">handshake</span><span class="c2">&nbsp;=</span><span class="c2 c4">&nbsp;bool</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; init: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">first_jump</span><span class="c2">&nbsp;= True --&gt; </span><span class="c5 c2">first &nbsp; </span><span class="c2">#second task skips this line</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">second_jump</span><span class="c2">&nbsp;= True --&gt; </span><span class="c5 c2">second </span><span class="c2">#first task never meets this</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c5 c2">first</span><span class="c2">: { #Prints received message from second task</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">output </span><span class="c2">= </span><span class="c5 c2">message</span><span class="c2">&nbsp;#Waits for second task on every access</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Consumes message once receives it</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Shake hand to ask for a new message from second task</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">handshake</span><span class="c2">&nbsp;= </span><span class="c5 c2">first.shake_hand</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">first.shake_hand</span><span class="c2">: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2 c4">yield</span><span class="c2">&nbsp;True</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--&gt;</span><span class="c5 c2">first</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c12"><span class="c2">&nbsp; &nbsp; &nbsp; </span><span class="c5 c2">&nbsp; &nbsp; &nbsp; second</span><span class="c2">: { #Send messages to first task repeatedly</span></p><p class="c12"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Produces a message</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">message</span><span class="c2">&nbsp;= </span><span class="c5 c2">second.pass_message</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">second.pass_message</span><span class="c2">: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2 c4">yield</span><span class="c2">&nbsp;&quot;Hello&quot;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Waits until first task shakes hand</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">wait</span><span class="c2">&nbsp;</span><span class="c5 c2">handshake</span></p><p class="c0"><span class="c5 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;handshake</span><span class="c2">&nbsp;= Null</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--&gt;</span><span class="c5 c2">second</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">} &nbsp;</span></p></td></tr></tbody></table><p class="c6"><span class="c14 c4 c1"></span></p><p class="c12"><span class="c14 c4 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">Standard input in Doppl is actually a predefined shared once future. The state that yields its value is internally defined to access standard input of an operating system. Since shared members are also intrinsically atomic, it is guaranteed that a read operation on standard input always block any other task that wants it to use at the same time.</span></p><p class="c6"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">3. States Against Functions</span></p><p class="c0"><span class="c1">A state is a special marker in a task body which can be used to jump to another instruction. Although the similarity between a state and a regular function in other programming languages is inevitably apparent, they are completely different constructs. </span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">Firstly, transitioning to a state is nothing like a function call. There are no stack operations computed for backtracking. A task can initiate as many transitions as it wishes without worrying about a stack overflow. </span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">Secondly, transitioning the same state does not create a recursion, therefore it is completely legitimate to use them to implement loops.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">Finally, states when used in conjunction with future members can behave like asynchronous functions. Such behavior often requires extra libraries and additional programming work in other general purpose programming languages</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">On the other hand, they behave the same as functions when it comes to resource ownership. They enclose data, other states and expressions. Between each transition, data allocations and releases occur. Ownerships can be transferred or shared with an upper entity to avoid unnecessary copy operations. Scope rules are strictly defined and applied like they are done in regular functions. </span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">All of these properties make states powerful tools to implement any kind of resource heavy logic without worrying about leaks and unnecessary performance loss due to bloated bookkeeping. </span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">4. States as Members</span></p><p class="c0"><span class="c1">Doppl states are locations in memory (with additional side data), it is possible use them as members. In order to declare a member which can hold a state, </span><span class="c2">state</span><span class="c1">&nbsp;keyword used as &nbsp;type name in declaration clause. A state member can hold any state inside and change it freely during runtime via assignments. It is possible to jump to a state using a state member.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="601638997ac561a2c02b2be4d33e47536c974c8f"></a><a href="#" name="5"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;init: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">data </span><span class="c5 c2">my_state </span><span class="c2">= </span><span class="c2 c4">state</span></p><p class="c0 c11"><span class="c2 c4"></span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">init.</span><span class="c5 c2">foo</span><span class="c2">: {}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;init.</span><span class="c5 c2">bar</span><span class="c2">: {}</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;= init.</span><span class="c5 c2">foo</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;</span><span class="c5 c2">my_state</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p></td></tr></tbody></table><p class="c6"><span class="c14 c4 c1"></span></p><p class="c0"><span class="c1">States declarations can also become aliases for other states if state membership is not necessary for the program logic. To re-declare a state with a new name, state block of a state declaration should be replaced with an existing state.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="6a29d19252dce7fa7aa6b2a8cca8d0288310bd96"></a><a href="#" name="6"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;init: {</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">init.</span><span class="c5 c2">foo</span><span class="c2">: {}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;init.</span><span class="c5 c2">bar</span><span class="c2">: init.</span><span class="c5 c2">foo</span></p><p class="c6"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;init.</span><span class="c5 c2">bar</span><span class="c2">&nbsp;#jumps to init.foo</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p></td></tr></tbody></table><p class="c6"><span class="c14 c4 c1"></span></p><p class="c0"><span class="c1">Using states as members in a task group, it is possible to access a state declared within a state from an outer one. Normally, scope rules restrict such accesses.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="183f74e5023448dc484c1d72ef2b52960de54eff"></a><a href="#" name="7"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;</span><span class="c2 c4">data</span><span class="c2">&nbsp;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;= </span><span class="c2 c4">state</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;init: {</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">init.</span><span class="c5 c2">foo</span><span class="c2">: {}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;init.</span><span class="c5 c2">bar</span><span class="c2">: {}</span></p><p class="c12"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;= init.</span><span class="c5 c2">bar</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;</span><span class="c5 c2">outer_state</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;</span><span class="c5 c2">outer_state</span><span class="c2">: {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;</span><span class="c5 c2">my_state</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p></td></tr></tbody></table><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">When an outer state transitions into some other state that is defined within a state, any members declared on the same and higher levels of the target state is initialized with </span><span class="c2">Null</span><span class="c1">. These initialization happen in order not to break scope rules and should be handled carefully to avoid logical errors.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">4. Closure States</span></p><p class="c0"><span class="c1">Closures are powerful entities and they exist in almost any programming language that support functional programming idiom. In functional programming, closures are functions packaged with their environment. They have the ability to change the environment they encapsulated and therefore can be considered stateful. In programming languages like Haskell where mutability is not allowed, a closure becomes an entity which is able to adapt different environments via parameterized redeclarations. Many object oriented behavior and logic can be imitated using closures.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">Doppl states have the ability to encapsulate environmental data. Closure states in Doppl can be thought as states with parameters. The difference between a closure state and a regular function is, closure states in Doppl can acquire the environment they encapsulate not only during transition, but also during assignment as well. It is normally not possible to provide a function its parameters without calling it.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">A state in Doppl can specify what kind of environment it can encapsulate using the syntax below.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="a9657c49edad5358e6d8fdc1962b5d681c43af36"></a><a href="#" name="8"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;init: {</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">init.</span><span class="c5 c2">foo(caught_data </span><span class="c2">=</span><span class="c5 c2">&nbsp;</span><span class="c2 c4">type</span><span class="c2">,</span><span class="c2 c4">&nbsp;</span><span class="c5 c2">another_data </span><span class="c2">=</span><span class="c5 c2">&nbsp;</span><span class="c2 c4">type</span><span class="c5 c2">)</span><span class="c2">: {}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p></td></tr></tbody></table><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">It can encapsulate any number of data necessary. Encapsulated data is statically typed. A closure state can be transitioned into or assigned to a state member like any other state. During such assignment or transition, it is possible to provide data to a closure. All closure parameters can be filled or some of them can be left empty. It is up to the programmer to decide how many of them should be left empty. After a transition is complete, unprovided parameters are automatically assigned to </span><span class="c2">Null</span><span class="c1">. Inherited from functional programming, this kind of usages are called &quot;partial applications&quot;.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">Parameter provision is not a function call and can only be done via keyword assignments. Order of provision is not important as long as parameter names match with keywords. Multiple assignment operation are separated with a comma &#39;</span><span class="c2">,</span><span class="c1">&#39; character. Multi line assignments are allowed as long as language grammar is obeyed. Members declared with different access modifiers like once, future or shared still continue to carry their properties along with the transition. State declaration signature does not require additional syntax for such members.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c1">Below example shows how closure assignment and transition happens.</span></p><p class="c6"><span class="c1"></span></p><a href="#" name="32c5d4e2be22eca11206d50f6afae89cb007fbe9"></a><a href="#" name="9"></a><table cellpadding="0" cellspacing="0" class="c16"><tbody><tr class="c8"><td class="c10"><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;init: {</span></p><p class="c0"><span class="c2 c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">init.</span><span class="c5 c2">foo(an_int </span><span class="c2">=</span><span class="c5 c2">&nbsp;</span><span class="c2 c4">int</span><span class="c2">,</span><span class="c2 c4">&nbsp;</span><span class="c5 c2">a_byte </span><span class="c2">=</span><span class="c5 c2">&nbsp;</span><span class="c2 c4">byte</span><span class="c5 c2">)</span><span class="c2">: {}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;init.</span><span class="c5 c2">foo</span><span class="c2">(</span><span class="c5 c2">an_int</span><span class="c2">&nbsp;= 42) #a_byte is Null</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;init.</span><span class="c5 c2">foo</span><span class="c2">(</span><span class="c5 c2">an_int</span><span class="c2">&nbsp;= 42, </span><span class="c5 c2">a_byte</span><span class="c2">&nbsp;= 0xFF) #no Null values</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;init.foo #everything is Null</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">data</span><span class="c2">&nbsp;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;= </span><span class="c2 c4">state</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2 c4">data</span><span class="c2">&nbsp;</span><span class="c5 c2">some_byte</span><span class="c2">&nbsp;= </span><span class="c2 c4">byte</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">some_byte</span><span class="c2">&nbsp;= 0xFF</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;= init.</span><span class="c5 c2">foo</span><span class="c2">&nbsp;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;my_state #eveything is Null</span></p><p class="c0 c11"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;= init.</span><span class="c5 c2">foo</span><span class="c2">(</span><span class="c5 c2">a_byte</span><span class="c2">&nbsp;= </span><span class="c5 c2">some_byte</span><span class="c2">)</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;</span><span class="c5 c2">my_state</span><span class="c2">&nbsp;#an_int is Null</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt;</span><span class="c5 c2">my_state</span><span class="c2">(</span><span class="c5 c2">an_int</span><span class="c2">&nbsp;= 42) #everything has a value</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp;}</span></p></td></tr></tbody></table><p class="c0 c11"><span class="c1"></span></p><p class="c12"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once some data is bound to a closure, the closure state becomes the owner of the data. It acquires the ability to change its value. Life of an enclosed data does not end as long as it is transferred between states.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">5. Conclusion</span></p><p class="c0"><span class="c1">Iteration #11 introduces a new access modifier for lazy evaluation and extends state entity in Doppl with properties inherited from functional programming. Members declared with the new access modifier </span><span class="c2">future</span><span class="c1">&nbsp;have the ability to be assigned to a value via an asynchronous operation. Message passing in Doppl is handled via future members. States in Doppl now can be used as members. States as member can be assigned to each other and be used with transition operators. State can carry ownership of resources via parameterized assignments or transitions as well. Such states are called closure states. Partial application in functional programming languages is supported by closure states of Doppl.</span></p><p class="c0 c11"><span class="c1"></span></p><p class="c12 c19"><span class="c14 c4 c1">6. Future Concepts</span></p><p class="c0"><span class="c1">Below are the concepts that are likely to be introduced in next iterations.</span></p><p class="c6"><span class="c5 c1"></span></p><ul class="c22 lst-kix_9lpw4r3o7z8s-0 start"><li class="c3"><span class="c1">Anonymous states</span></li><li class="c3"><span class="c5 c1">if</span><span class="c1">&nbsp;conditional, trueness</span></li><li class="c3"><span class="c1">Bit data type</span></li><li class="c3"><span class="c1">Locks</span></li><li class="c3"><span class="c1">Primitive Collections and basic collection operators</span></li><li class="c3"><span class="c1">Provision operators</span></li><li class="c3"><span class="c1">Predefined task members</span></li><li class="c3"><span class="c1">Tasks as members</span></li><li class="c3"><span class="c1">Task and data traits</span></li><li class="c3"><span class="c1">Custom data types and defining traits</span></li><li class="c3"><span class="c1">Built-in traits for primitive data types</span></li><li class="c3"><span class="c1">Formatted input and output</span></li><li class="c3"><span class="c1">Message passing</span></li><li class="c3"><span class="c1">Dynamic memory</span></li><li class="c3"><span class="c1">Exception states</span></li><li class="c3"><span class="c1">Multiple source files and compiler</span></li></ul><p class="c6"><span class="c1"></span></p><p class="c0"><span class="c14 c4 c1">7</span><span class="c14 c4 c1">. License</span></p><p class="c0"><span class="c1">CC BY-SA 3.0</span></p><p class="c0"><span class="c15 c1"><a class="c20" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a></span></p><p class="c6"><span class="c1 c15"><a class="c20" href="http://creativecommons.org/licenses/by-sa/3.0/"></a></span></p><p class="c6"><span class="c1"></span></p><div><p class="c11 c21"><span></span></p></div></body></html>